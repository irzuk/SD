# HW 8

## Общие сведения о системе

Все действие игры происходит на карте, которая представляет случайно сгенерированное здание университета.

Цель игры - продержатся в здании университета до рассвета (3 минуты).

На карте находятся сундуки, которые можно открывать. В сундуках находятся предметы: **вещи** и **сущности**

Также на карте находятся враги, за убийство которых герой получает опыт. Получив достаточно опыта, игрок повышает свои характеристики.

### Герой
Герой - студент, который засиделся за учебой до закрытия университета.
Проблема в том, что герой, как типичный студент, очень голоден и хочет спать.

### Характеристики персонажа
Герой обладают следующими характеристиками:

1. **Сытость** - изначально равно 30. Можно увеличить с помощью предметов. Каждую секунду уменьшается на 1. Его можно восстанавливать с помощью предметов.
2. **Бодрость** - изначально равно 30. Можно увеличить с помощью предметов. Каждую секунду уменьшается на 1. Его можно восстанавливать с помощью предметов.
3. **Здоровье** - изначально у героя значение  равно 50. Каждую секунду уменьшается на 1, если показатели **Сытость** и **Бодрость** равны 0. Если здоровье равно 0, то игра завершается: игрок проиграл.

Герой может повышать Сытость и Бодрость с помощью **Вещей** или за повышение уровня. Для повышения уровня
герой должен набрать 50 очков опыта, который он может получить за убийство врагов. При повышении уровня
герой получает +5 Сытости и +5 Бодрости.

### Инвентарь
Если герой откроет сундук, то с некоторой вероятностью может найти в нем **вещь**.

У героя есть инвентарь, в который помещаются найденные **вещи** в произвольном количестве.
Если герой уже имеет данную **вещь**, то она не подбирается и исчезает навсегда.

**Вещи**, которые находятся в инвентаре можно **надевать**. **Надетая вещь** увеличивает характеристики героя.
Герой единовременно может носить *только одну* вещь. Если герой **надевает вещь**,
но у него уже была одета какая то **вещь**, то она автоматически снимается и помещается в инвентарь.

Герой *не может* выкидывать **вещи** из инвентаря.

### Вещи

Надетая **вещь** увеличивает максимальный запас **cытости** или **бодрости** героя.

Каждую вещь можно вытащить из сундука с вероятностью **1%**.

| №  | Вещь                | Увеличение **Сытости** | Увеличение **Бодрости** |
|----|---------------------|------------------------|-------------------------|
| 1  | Анекдот категории Б | +0                     | +5                      |
| 2  | Прищепка на палец   | +0                     | +10                     |
| 3  | Грязные носки       | +0                     | +15                     |
| 4  | Электроошейник      | +0                     | +20                     |
| 5  | Нелицеприятное фото | +5                     | +0                      |
| 6  | Зубочистка          | +10                    | +0                      |
| 7  | Утягивающий пояс    | +15                    | +0                      |
| 8  | Кляп в рот          | +20                    | +0                      |
| 9  | Контракт с демоном  | +10                    | +10                     |
| 10 | Решебник Демидовича | +15                    | +15                     |

### Сущности
Сущности также можно найти в сундуках. Они восстанавливают **сытость** или **бодрость** игрока.

| №  | Вещь                           | Восстановление **Сытости**    | Восстанавление **Бодрости**    | Шанс найти    |
|----|--------------------------------|-------------------------------|--------------------------------|---------------|
| 1  | Картошка                       | +5                            | +0                             | 13%           |
| 2  | Добрый Кола                    | +10                           | +0                             | 11%           |
| 3  | Шоколад "Россия - щедрая душа" | +15                           | +0                             | 9%            |
| 4  | Чизбургер "Вкусно и точка"     | +20                           | +0                             | 7%            |
| 5  | Смешной анекдот                | +0                            | +5                             | 13%           |
| 6  | Мем                            | +0                            | +10                            | 11%           |
| 7  | Сигарета Winston Red           | +0                            | +15                            | 9%            |
| 8  | Пузырек адреналина             | +0                            | +20                            | 7%            |
| 9  | Nescafe 3в1                    | +15                           | +15                            | 6%            |
| 10 | Red Bull                       | +25                           | +15                            | 4%            |

### Враги

Всего есть 3 вида врагов: злые преподаватели, тумбочки и школьники.

* Злые преподаватели двигаются по направлению к герою. Имеют 35 очков здоровья. Когда они соприкасаются с героем, то наносят ему урон
  в -10 Сытости и -10 Бодрости. За победу над преподавателем герой получает 15 очков опыта.
* Тумбочки все время стоят на месте. Имеют 25 очков здоровья. Когда они соприкасаются с героем, то наносят ему урон
  в -5 Сытости и -5 Бодрости. За победу над тумбочкой герой получает 10 очков опыта.
* Школьники двигаются по направлению от героя. Имеют 30 очков здоровья. Когда они соприкасаются с героем,
  герой восстанавливает +5 Сытости и +5 Бодрости. За победу на школьником герой получает 5 очков опыта.

Количество врагов от каждого типа появляется на карте от 0 до 3 равновероятно.

### Боевая система

Враги наносят герою фиксированный урон его характеристикам.
Герой наносит врагам урон, равный сумме его Сытости и Бодрости, исключая их начальные значения.
Т.е. если герой имеет всего 45 ед. Сытости и 35 ед. Бодрости, то враг получит урон здоровью, равный
*(45 - 30) + (35 - 30) = 20 ед.*

Также при ударе есть возможность наложить на врага эффект конфузии. Для злых преподавателей он составляет 15%,
для тумбочек 25%, для школьников 20%. Враг, находящийся под воздействием конфузии, начинает произвольное движение
по направлениям параллельным осям Ox, Oy.

### Процесс сеанса игры
Размер каждого персонажа 1x1 ед. (1 клетка)
* Генерируем случайную ["карту университета"](https://habr.com/ru/post/275727/).
* Игрок появляется в одном из **помещений** и может переходить в другие **помещения** через **двери**.
* В каждой **помещении** генерируем **сундуки**, их должно быть от 5% до 20% (равновероятно) всех клеток в комнате.
* Генерируем место появления персонажа.
* Устанавливаем таймер до конца игры.

## Architectural drivers
### Технические
Платформы:
* MacOS Ventura+
* Linux Ubuntu 20.04+
* Windows 11+

Язык программирования:

* Java (11+). Возможные решения - C++, Python, C#. У Java преимущества в сбалансированности: производительность, скорость написания, множество вспомогательных библиотек, кроссплатформенностью

### Бизнес
Состав команды: 3 человека

Время: 3 недели на MVP, 2 месяца на продукт *(Допускается переработка с сверхурочными за 1 неделю)*.

### Фунциональные
* Консольная графика
* Отрисовка 60 кадров в секунду без задержек (или 120 - по выбору пользователя)

### Качественные
* Возможность добавить простую тайтловую графику
* Возможность добавить простую ASCII-графику
* Масштабируемость на огромные карты

## Роли и случаи использования
Роль в системе единственная - игрок. Умеет перемещаться по карте с помощью стрелочек на клавиатуре, может поднимать объекты , если окажется с ними к одной и тоже клетке поля. С помощью цифр на клавиатуре может надевать i **вещь** из своего арсенала.
### Описание типичного пользователя
Пользователь ПК от 10-100+ лет. Пытается провести хорошо время за игрой и набрать наибольшее число здоровья.


## Диаграмма компонентов

![components](pics/игра2(компоненты).png)

## Диаграмма классов

![classes](pics/игра2(классы).png)

## Диаграмма последовательностей

![sequence1](pics/игра2(послед.,%20SetThing).png)
![sequence2](pics/игра2(послед.,%20Move).png)
## Диаграмма конечного автомата

![components](pics/игра2(конечный%20автомат).png)
