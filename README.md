# HW 6

## Общие сведения о системе

Все действие игры происходит на карте, которая представляет случайно сгенерированное здание университета. Цель игры - продержатся в здании университета все пары или уничтожить всех врагов. Пара - продолжительная часть физического времени. Между парами - перерывы, время для лута. 

### Персонажи
Всего 2 вида персонажей, за которых может сыграть игрок(основные):

* Преподаватели
* Студенты

Преподаватели сражаются со студентами (персонажи одного вида - друзья).

Помимо них есть второстепенные персонажи-боты: охрана и персонал столовой.

### Характеристики персонажа
Основные персонажи обладают следующими характеристиками:

1. **Здоровье** - изначально у всех основных персонажей по 100; может уменьшиться под действием врагов(нанесение урона) и увеличиться под действием некоторых предметов (максимум 100). В случае обнуления здоровья персонаж умирает и начинает игру заново.
2. **Настроение** -- изначально у всех основных персонажей по 50; может уменьшиться под действием врагов и увеличиться под действием некоторых предметов(максимум 100, минимум 0). Каждую пару становится в 2 раза меньше. В случае нанесения урона врагом, настроение влияет на полученные повреждения:

| Уровень настроения   | % повреждений от наносимого урона |
|----------------------|-----------------------------------|
| 0 - 24               | 125%                              |
| 25 - 49              | 100%                              | 
| 50 - 74              | 75%                               |
| 75 - 100%            | 50%                               |

### Инвентарь
По карте рандомно разбросаны сундуки. Их можно открывать только во время перемены.
В них могут дежать различные **предметы**, которые можно **использовать**.
У каждого игрока есть инвентарь, в котором можно хранить предмет каждого вида в произвольном количестве.
Каждый игрок может выкинуть любой предмет в любом количестве в любой момент времени, а другой игрок (включая врага) в любой момент времени может его подобрать.

### Предметы
* Пропуск
* Анекдот
* Сигарета
* Деньги (дискретное значение)
* Чупа-чупс

### Действия
1. Показать пропуск охраннику - охранник дает пройти.
2. Прочитать анекдот - настроение +20, анекдот -1
3. Выкурить сигарету - здоровье +20, сигареты -1
4. Купить в столовой кофе - настроение +30, деньги -20
5. Купить в столовой гречку - здоровье +30, деньги -30
6. Дать охраннику сигарету и рассказать анекдот - охранник дает пройти - сигареты -1, анекдот -1 
7. Сосать чупа-чупс - добавляет 10 к настроению, уменьшает наносимый урон на 3 ед. При убирании чупа-чупса в инвентарь изменения откатываются назад.

Только для преподавателя:

1. Задать вопрос конкретному врагу - наносится урон либо 0, либо 20 (выбирается рандомно равновероятно).
2. Пообещать завалить на экзамене - наносится урон каждому врагу от 10 до 30 (выбирается рандомно равновероятно) на манхеттенском расстоянии, при этом у самого преподавателя настроение падает на 20.

Только для студента:

1. Мешать вести лекцию - наносится урон 10 конкретному врагу.

### Процесс сеанса игры
Размер каждого персонажа 1x1 ед. (1 клетка)
* Генерируем случайное ["подземелье"](https://habr.com/ru/post/275727/)
* Между каждой парой комнат с вероятностью 0.1 ставим охранника.
* Выбираем случайную комнату для столовой, в ней выбираем клетку - в ней находится персонал столовой, у которого можно купить кофе или гречку.
* В каждом помещении генерируем ящики, их должно быть от 5% до 20% (равновероятно) всех клеток в комнате. Распределение предметов в ящике:

| Предмет              | Распределение |
|----------------------|------------------------------------|
| Пропуск              | 0 или 1 с вероятностью 0.05 / 0.95 |
| Анекдот              | 0 или 1 с вероятностью 0.9  / 0.1  | 
| Сигареты             | 0 или 1 с вероятностью 0.8 / 0.2   |
| Деньги               | от 0 до 5 равновероятно            |
| Чупа-чупс            | 0 или 1 с вероятностью 0.9  / 0.1  |
* Возможность вместо всех предыдщих шагов выбрать конкретный файл с загруженной картой
* Генерируем место появления персонажа, спрашиваем, какой уровень сложности он выберет (от 1 до 10)
* Уровень - количество пар. Каждая пара - 3 минуты игры. На время пары отключается возможность открытия сундуков, можно только "атаковать". После уничтожения противника можно забрать его инвентарь себе. Во время перерывов (1 минуту) можно только "лутаться".
* Боты не поддерживаются, только онлайн

## Architectural drivers
### Технические 
Платформы:
* MacOS Ventura+
* Linux Ubuntu 20.04+
* Windows 11+

Язык программирования:

* Java (11+). Возможные решения - C++, Python, C#. У Java преимущества в сбалансированности: производительность, скорость написания, множество вспомогательных библиотек, кроссплатформенностью

### Бизнес
Состав команды: 3 человека

Время: 3 недели на MVP, 2 месяца на продукт.

### Фунциональные
* Консольная графика
* Отрисовка 60 кадров в секунду без задержек (или 120 - по выбору пользователя)

### Качественные
* Возможность без больших изменений добавить простую тайтловую графику
* Возможность без больших изменений добавить простую ASCII-графику
* Масштабируемость на огромные карты